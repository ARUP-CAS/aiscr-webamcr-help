<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="cs" xml:lang="cs"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.7.32">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Ondřej Švejcar">
<meta name="author" content="Tomáš Pavloň">

<title>Import geometrie PIAN – Dokumentace AMČR</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
html { -webkit-text-size-adjust: 100%; }
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../site_libs/quarto-search/fuse.min.js"></script>
<script src="../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../">
<link href="../amcr/dj.html" rel="next">
<link href="../figs/cover.png" rel="icon" type="image/png">
<script src="../site_libs/cookie-consent/cookie-consent.js"></script>
<link href="../site_libs/cookie-consent/cookie-consent.css" rel="stylesheet">
<script src="../site_libs/quarto-html/quarto.js" type="module"></script>
<script src="../site_libs/quarto-html/tabsets/tabsets.js" type="module"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../site_libs/quarto-html/anchor.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting-37eea08aefeeee20ff55810ff984fec1.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../site_libs/bootstrap/bootstrap-cc100071271def162c7e439a08fcca49.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "Žádný výsledek",
    "search-matching-documents-text": "Nalezené výsledky",
    "search-copy-link-title": "Zkopírovat odkaz pro vyhledávání",
    "search-hide-matches-text": "Skrýt další výsledky",
    "search-more-match-text": "další výsledek v tomto dokumentu",
    "search-more-matches-text": "dalších výsledků v tomto dokumentu",
    "search-clear-button-title": "Vymazat",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Zrušit",
    "search-submit-button-title": "Odeslat",
    "search-label": "Hledat"
  }
}</script>
<script async="" src="https://www.googletagmanager.com/gtag/js?id=G-S3BT2B2SPF"></script>

<script type="text/plain" cookie-consent="tracking">

window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'G-S3BT2B2SPF', { 'anonymize_ip': true});
</script>

<script type="text/javascript" charset="UTF-8">
document.addEventListener('DOMContentLoaded', function () {
cookieconsent.run({
  "notice_banner_type":"simple",
  "consent_type":"express",
  "palette":"light",
  "language":"en",
  "page_load_consent_levels":["strictly-necessary"],
  "notice_banner_reject_button_hide":false,
  "preferences_center_close_button_hide":false,
  "website_name":""
  ,
"language":"cs"
  });
});
</script> 
  


<link rel="stylesheet" href="../museo.css">
<link rel="stylesheet" href="../styles.css">
</head>

<body class="nav-sidebar floating nav-fixed quarto-light">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a href="../index.html" class="navbar-brand navbar-brand-logo">
    <img src="../figs/cover_g.png" alt="" class="navbar-logo">
    </a>
    <a class="navbar-brand" href="../index.html">
    <span class="navbar-title">Dokumentace AMČR</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Hledat"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Přepnout navigaci" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="../index.html"> 
<span class="menu-text">Úvod</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../o-systemu/index.html"> 
<span class="menu-text">O systému</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link active" href="../amcr/index.html" aria-current="page"> 
<span class="menu-text">AMČR</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../digiarchiv/index.html"> 
<span class="menu-text">Digitální archiv AMČR</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="https://ARUP-CAS.github.io/aiscr-api-home" target="_blank"> <i class="bi bi-box-arrow-up-right" role="img">
</i> 
<span class="menu-text">AMČR API</span></a>
  </li>  
</ul>
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item">
    <a class="nav-link" href="../slovnik/index.html"> 
<span class="menu-text">Slovník pojmů</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../zpravodaj/index.html"> 
<span class="menu-text">Zpravodaj</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../about/index.html"> 
<span class="menu-text">Kontakty</span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" role="button" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Přepnout postranní panel" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="../amcr/pian-import.html">Tutoriály</a></li><li class="breadcrumb-item"><a href="../amcr/pian-import.html">Import geometrie PIAN</a></li></ol></nav>
        <a class="flex-grow-1" role="navigation" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Přepnout postranní panel" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation floating overflow-auto"><div class="quarto-sidebar-header"><div class="sidebar-header-item">
<p><a href="../amcr/index.html"><img src="../figs/logo-amcr-hor.png" class="img-fluid"></a></p>
</div></div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../amcr/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Úvod</span></a>
  </div>
</li>
        <li class="px-0"><hr class="sidebar-divider hi "></li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="false">
 <span class="menu-text">Návody</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="false" aria-label="Přepnout sekci">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../amcr/gui.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Webová aplikace</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../amcr/mapa.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Mapové rozhraní</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../amcr/oznameni.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Oznámení záměru</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../amcr/projekty.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Správa projektů</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../amcr/akce.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Správa akcí</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../amcr/lokality.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Správa lokalit</span></a>
  </div>
</li>
          <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="../amcr/amcr-pas/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">AMČR-PAS</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" role="navigation" aria-expanded="false" aria-label="Přepnout sekci">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-2" class="collapse list-unstyled sidebar-section depth2 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../amcr/amcr-pas/amater.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Návod pro spolupracovníky</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../amcr/amcr-pas/archeolog.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Návod pro archeology</span></a>
  </div>
</li>
      </ul>
  </li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../amcr/dokumenty.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Správa dokumentů</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../amcr/knihovna3d.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Knihovna 3D</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../amcr/externi.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Správa externích zdrojů</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="px-0"><hr class="sidebar-divider hi "></li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" role="navigation" aria-expanded="true">
 <span class="menu-text">Tutoriály</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" role="navigation" aria-expanded="true" aria-label="Přepnout sekci">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-3" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../amcr/pian-import.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text">Import geometrie PIAN</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../amcr/dj.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Zápis správného typu DJ</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../amcr/drobne-akce.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Akce drobného rozsahu</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../amcr/adb.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Zápis ADB</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../amcr/amcr-pas/foto.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Fotografická dokumentace nálezů</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../amcr/lokality-metodika.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Zásady evidence nemovitých archeologických památek (lokalit)</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="https://doi.org/10.5281/zenodo.7925830" class="sidebar-item-text sidebar-link" target="_blank"><i class="bi bi-box-arrow-up-right" role="img">
</i> 
 <span class="menu-text">Metodika tvorby plánů na základě šikmých leteckých snímků</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="https://doi.org/10.5281/zenodo.7925795" class="sidebar-item-text sidebar-link" target="_blank"><i class="bi bi-box-arrow-up-right" role="img">
</i> 
 <span class="menu-text">Postup vektorizace objektů na základě šikmých leteckých snímků</span></a>
  </div>
</li>
      </ul>
  </li>
    </ul>
    </div>
    <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Na této stránce…</h2>
   
  <ul>
  <li><a href="#úvod" id="toc-úvod" class="nav-link active" data-scroll-target="#úvod">Úvod</a>
  <ul class="collapse">
  <li><a href="#definice-formátu-souboru-pro-import" id="toc-definice-formátu-souboru-pro-import" class="nav-link" data-scroll-target="#definice-formátu-souboru-pro-import">Definice formátu souboru pro import</a></li>
  </ul></li>
  <li><a href="#příprava-importního-csv" id="toc-příprava-importního-csv" class="nav-link" data-scroll-target="#příprava-importního-csv">Příprava importního CSV</a>
  <ul class="collapse">
  <li><a href="#amčr-gis-konvertor" id="toc-amčr-gis-konvertor" class="nav-link" data-scroll-target="#amčr-gis-konvertor">AMČR GIS konvertor</a></li>
  <li><a href="#qgis-plugin-pian-exporter" id="toc-qgis-plugin-pian-exporter" class="nav-link" data-scroll-target="#qgis-plugin-pian-exporter">QGIS plugin Pian Exporter</a></li>
  <li><a href="#manuální-export-csv-z-qgis" id="toc-manuální-export-csv-z-qgis" class="nav-link" data-scroll-target="#manuální-export-csv-z-qgis">Manuální export CSV z QGIS</a></li>
  <li><a href="#vytvoření-csv-v-textovém-editoru" id="toc-vytvoření-csv-v-textovém-editoru" class="nav-link" data-scroll-target="#vytvoření-csv-v-textovém-editoru">Vytvoření CSV v textovém editoru</a></li>
  </ul></li>
  <li><a href="#import-do-amčr" id="toc-import-do-amčr" class="nav-link" data-scroll-target="#import-do-amčr">Import do AMČR</a></li>
  </ul>
</nav>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar zindex-bottom">
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default"><nav class="quarto-page-breadcrumbs quarto-title-breadcrumbs d-none d-lg-block" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="../amcr/pian-import.html">Tutoriály</a></li><li class="breadcrumb-item"><a href="../amcr/pian-import.html">Import geometrie PIAN</a></li></ol></nav>
<div class="quarto-title">
<h1 class="title">Import geometrie PIAN</h1>
</div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Autoři</div>
    <div class="quarto-title-meta-contents">
             <p>Ondřej Švejcar </p>
             <p>Tomáš Pavloň </p>
          </div>
  </div>
    
    <div>
    <div class="quarto-title-meta-heading">Aktualizováno</div>
    <div class="quarto-title-meta-contents">
      <p class="date">18. října 2024</p>
    </div>
  </div>
  
    
  </div>
  


</header>


<div class="callout callout-style-simple callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Možnosti přípravy CSV souboru pro import geometrie PIAN do AMČR
</div>
</div>
<div class="callout-body-container callout-body">
<section id="preferované-způsoby" class="level4">
<h4 class="anchored" data-anchor-id="preferované-způsoby">Preferované způsoby:</h4>
<ul>
<li><a href="../amcr/pian-import.html#amčr-gis-konvertor">Pomocí AMČR GIS konvertoru SHP na WKT</a> – doporučená cesta v případě práce v ArcGIS.</li>
<li><a href="../amcr/pian-import.html#qgis-plugin-pian-exporter">Pomocí QGIS pluginu Pian Exporter</a> – doporučená cesta v případě práce v QGIS.</li>
</ul>
</section>
<section id="další-možnosti" class="level4">
<h4 class="anchored" data-anchor-id="další-možnosti">Další možnosti:</h4>
<ul>
<li><a href="../amcr/pian-import.html#mauální-export-csv-z-qgis">Manuálním exportem z QGIS</a>.</li>
<li><a href="../amcr/pian-import.html#vytvoření-csv-v-textovém-editoru">Manuálně v textovém editoru</a>.</li>
</ul>
</section>
</div>
</div>
<section id="úvod" class="level2">
<h2 class="anchored" data-anchor-id="úvod">Úvod</h2>
<p>Cílem níže popsaných postupů je vytvořit tabulku ve formátu CSV (Comma Separated Values, .csv), pomocí které lze importovat geometrie PIAN do AMČR.</p>
<section id="definice-formátu-souboru-pro-import" class="level3">
<h3 class="anchored" data-anchor-id="definice-formátu-souboru-pro-import">Definice formátu souboru pro import</h3>
<p>CSV soubor musí mít následující parametry:</p>
<ul>
<li>Základní formát (obvykle jde o výchozí nastavení pro <a href="https://www.rfc-editor.org/rfc/rfc4180" class="external">CSV</a>):
<ul>
<li>kódování: UTF-8;</li>
<li>oddělovač pole: <code>,</code> (čárka – znak s UTF-8 kódem U+002C);</li>
<li>oddělovač řetězců: <code>"</code> (horní uvozovky – znak s UTF-8 kódem U+0022).</li>
</ul></li>
<li>Soubor obsahuje následují pole:
<ul>
<li><code>label</code> – pole s&nbsp;jedinečným popiskem prvku (např. identifikátor);</li>
<li><code>epsg</code> – pole obsahující kód souřadnicového systému – akceptovány jsou souřadnicové systémy <strong>4326</strong> (<a href="https://epsg.io/4326" class="external">WGS 84</a>) a <strong>5514</strong> (<a href="https://epsg.io/5514" class="external">S-JTSK / Krovak East North</a>);</li>
<li><code>geometry</code> – pole obsahují souřadnice ve formátu WKT (Well-known Text) podle typu geometrie:
<ul>
<li><code>POINT</code> (souřadnice WKT);</li>
<li><code>LINESTRING</code> (souřadnice WKT);</li>
<li><code>POLYGON</code> (souřadnice WKT).</li>
</ul></li>
</ul></li>
</ul>
<p>Všechna textová pole v&nbsp;CSV vč. geometrií by měla být obalena oddělovačem textu (<code>"</code>), a to zejména kvůli správnému čtení čárky jako oddělovače údajů v&nbsp;rámci geometrií.</p>
<p>Při nahrávání CSV souborů systém akceptuje i složené geometrie (<code>MULTIPOINT</code>, <code>MULTILINESTRING</code>, <code>MULTIPOLYGON</code>), ale je <strong>primárně určen pro validní jednoduché geometrie</strong>. Při použití multi* prvků dojde při importu k&nbsp;rozdělení na jednotlivé jednoduché geometrie, protože PIAN nikdy nemůže být ve formátu složené geometrie. Doporučujeme proto tyto typy geometrií nepoužívat, mohou však vznikat např. při vytvoření shapefile přes ESRI ArcGIS, přestože obsahem prvku je jednoduchá geometrie. V&nbsp;takovém případě bude obsah do AMČR importován správně.</p>
</section>
</section>
<section id="příprava-importního-csv" class="level2">
<h2 class="anchored" data-anchor-id="příprava-importního-csv">Příprava importního CSV</h2>
<p>Předpokladem všech způsobů přípravy importu je:</p>
<ul class="task-list">
<li><label><input type="checkbox">existence souboru/vrstvy obsahující geometrii/geometrie (body, linie nebo polygony);</label></li>
<li><label><input type="checkbox">souřadnicové systémy jsou <strong>WGS 84</strong> (EPSG: 4326) nebo <strong>S-JTSK/Krovak East North</strong> (EPSG: 5514).</label></li>
</ul>
<hr>
<section id="amčr-gis-konvertor" class="level3">
<h3 class="anchored" data-anchor-id="amčr-gis-konvertor">AMČR GIS konvertor</h3>
<div class="callout callout-style-simple callout-important">
<div class="callout-body d-flex">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-body-container">
<p><strong>AMČR GIS konvertor</strong> najdete na stránce <a href="https://amcr-convert.aiscr.cz/" class="external"><strong>https://amcr-convert.aiscr.cz/</strong></a>.</p>
</div>
</div>
</div>
<section id="upload-souborů" class="level4">
<h4 class="anchored" data-anchor-id="upload-souborů">Upload souborů</h4>
<p>Pomocí tlačítka <code>Procházet</code> vyberte soubory shapefilu, které budou použity pro převod (shapefile je multisouborový formát, který je tvořen více dílčími soubory). Jako povinné je třeba zvolit soubory <em>.shp</em> (obsahuje vlastní zakreslené geometrie pro vytvoření PIAN) a <em>.dbf</em> (obsahuje atributy jednotlivých zakreslených prvků). Doporučené je připojit i soubory <em>.prj</em> (obsahuje informace o souřadnicovém systému a projekci) a <em>.cpg</em> (obsahuje informace o kódování pro správnou identifikaci znaků)</p>
</section>
<section id="informace-o-shapefilu" class="level4">
<h4 class="anchored" data-anchor-id="informace-o-shapefilu">Informace o shapefilu</h4>
<ol type="1">
<li>Konvertor po vybrání souborů ověří jejich správnost a příslušnost k jednomu shapefilu.</li>
<li>Pokud není připojen soubor <em>.prj</em>, je třeba v poli <code>EPSG</code> zvolit souřadnicový systém, ve kterém data jsou. Upozorňujeme, že volba souřadnicového systému <strong>neslouží</strong> pro převod mezi jednotlivými systémy!</li>
<li>Pokud vstupní soubor obsahuje pole s popisem jednotlivých prvků (např. číslo sondy, pojmenování plochy atp.), lze toto pole zvolit v poli <code>Název</code>. Pokud pole s popisem neexistuje, nebo není zvoleno, jsou jednotlivým prvkům přiděleny automatické popisky (<em>Prvek_1</em>, <em>Prvek_2</em> atd.)</li>
<li>Načtená data vidíte v tabulce níže. Zde vidíte popis jednotlivých prvků v poli <code>Label</code>. Popis lze v tomto poli editovat (ať již je generován automaticky nebo je jeho zdrojem pole s popisem ze vstupního souboru). Ve sloupci <code>EPSG</code> vidíte zvolený nebo načtený souřadnicový systém. Ve sloupci <code>Export</code> lze pak výběrem zvolit, které prvky ze vstupního shapefilu se mají exportovat.</li>
</ol>
</section>
<section id="export-dat" class="level4">
<h4 class="anchored" data-anchor-id="export-dat">Export dat</h4>
<ol type="1">
<li>V části <code>Export dat</code> vidíte náhled převedených dat. Tlačítkem <code>Stáhnout CSV</code> si můžete stáhnout hotový CSV soubor připravený pro import geometrie PIAN do AMČR. Převedená data lze také jen zkopírovat (ručně nebo pomocí tlačítka <code>Kopírovat do schránky</code>) pro vytvoření CSV souboru ručně, nebo pro práci s daty jiným způsobem.</li>
<li>Pokud takto zpracováváte více souborů stejného typu, lze se pomocí tlačítka <code>Vyčistit a nahrát další</code> přepnout rovnou do výběru nových souborů. Tlačítkem <code>Vyčistit</code> se pak vrátíte na výchozí obrazovku.</li>
</ol>
<hr>
</section>
</section>
<section id="qgis-plugin-pian-exporter" class="level3">
<h3 class="anchored" data-anchor-id="qgis-plugin-pian-exporter">QGIS plugin Pian Exporter</h3>
<p>Uživatelé QGIS mohou využít volně dostupný plugin <strong>Pian Exporter</strong> vytvořený Markem Lečbychem. Plugin umožňuje rychle a efektivně exportovat prostorová data z vybrané vrstvy do CSV, který je bez nutnosti další úpravy možné importovat do webové aplikace AMČR. V knihovně QGIS pluginů najdete Pian Exporter <a href="https://plugins.qgis.org/plugins/pian_exporter/#plugin-about" class="external">zde</a>.</p>
<section id="instalace-pluginu" class="level4">
<h4 class="anchored" data-anchor-id="instalace-pluginu">Instalace pluginu</h4>
<ol type="1">
<li>V aplikaci QGIS použijte nástroj manažera pluginů.</li>
</ol>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="figs/pian-plugins.jpg" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:66.0%"></p>
</figure>
</div>
<ol start="2" type="1">
<li>Vyhledejte <strong>Pian Exporter</strong> (například zadáním klíčových slov <em>PIAN</em> nebo <em>AMČR</em>) a potvrďte jeho instalaci.</li>
</ol>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="figs/pian-install.jpg" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:60.0%"></p>
</figure>
</div>
<p>V aplikaci QGIS se plugin zobrazí v podobě ikony <img src="figs/pian-icon.png" class="img-fluid" style="width:2.0%"></p>
</section>
<section id="export-dat-1" class="level4">
<h4 class="anchored" data-anchor-id="export-dat-1">Export dat</h4>
<ol type="1">
<li>V aplikaci QGIS klikněte na ikonu <strong>Pian Exporter</strong>.</li>
<li>Vyberte z rolovací nabídky vrstvu, kterou chcete exportovat.</li>
<li>Zadejte název a vyberte místo uložení výsledného souboru.</li>
<li>Importujte výsledný soubor CSV do AMČR, viz <a href="../amcr/pian-import.html#import-souboru-csv-do-amčr">postup</a>.</li>
</ol>
<hr>
</section>
</section>
<section id="manuální-export-csv-z-qgis" class="level3">
<h3 class="anchored" data-anchor-id="manuální-export-csv-z-qgis">Manuální export CSV z QGIS</h3>
<ol type="1">
<li>V&nbsp;<a href="https://www.qgis.org/" class="external">QGIS</a> si otevřeme vektorovou vrstvu, která obsahuje jednu či více geometrií jako podklad pro PIAN (souřadnicový systém WGS 84 – EPSG:4326 nebo S-JTSK / Krovak East North – EPSG: 5514).</li>
</ol>
<div class="quarto-figure quarto-figure-right">
<figure class="figure">
<p><img src="figs/pian08.png" class="img-fluid quarto-figure quarto-figure-right figure-img" style="width:92.0%"></p>
</figure>
</div>
<ol start="2" type="1">
<li>Vrstvu exportujeme jako WKT:
<ol type="i">
<li>kliknout pravým tlačítkem na vrstvu v&nbsp;seznamu vrstev – <code>Export</code> – <code>Uložit prvky jako...</code>;<br>
<img src="figs/pian09.png" class="img-fluid quarto-figure quarto-figure-center" style="width:100.0%"></li>
<li>v&nbsp;nastavení exportu zvolíme:
<ul>
<li>typ geometrie (GEOMETRY): <code>AS_WKT</code>;</li>
<li>oddělovač (SEPARATOR): <code>COMMA</code>;</li>
<li>kódování/encoding: <code>UTF-8</code>;</li>
<li>souřadnicový systém (SRS): <code>WGS 84 - EPSG:4326</code> nebo <code>S-JTSK / Krovak East North - EPSG: 5514</code>.</li>
</ul></li>
</ol></li>
</ol>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="figs/pian10.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:60.0%"></p>
</figure>
</div>
<ol start="3" type="1">
<li>QGIS nám nabídne přidat vrstvy do mapy – lze přijmout (vrstva se přidá do seznamu vrstev) nebo ne (vrstva se nepřidá).</li>
</ol>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="figs/pian11.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:90.0%"></p>
</figure>
</div>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="figs/pian12.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:90.0%"></p>
</figure>
</div>
<ol start="4" type="1">
<li>Výsledný soubor otevřeme např. v&nbsp;Libre Office, v&nbsp;úvodním nastavení importu textu nastavíme/zkontrolujeme následující hodnoty:
<ol type="i">
<li>Znaková sada: <code>Unicode (UTF-8)</code>;</li>
<li>Možnosti oddělovače – Odděleno pomocí: <code>Čárka</code>;</li>
<li>Oddělovač řetězců: <code>"</code>;</li>
<li>ve spodní části okna pak vidíme náhled importovaných dat.</li>
</ol></li>
</ol>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="figs/pian13.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:80.0%"></p>
</figure>
</div>
<ol start="5" type="1">
<li>Z&nbsp;původních dat nás zajímá především pole s&nbsp;geometrií WKT a případně pole s&nbsp;názvem jednotlivých geometrií/PIAN, data je třeba upravit do požadovaného formátu (viz výše):
<ol type="i">
<li>vytvořit pole <code>label</code> jako první sloupec (vložením nebo úpravou a přesunem stávajícího pole na první místo);</li>
<li>vytvořit pole <code>epsg</code> pro kód souřadnicového systému ve druhém sloupci;</li>
<li>pole <code>WKT</code> přejmenovat na <code>geometry</code> (třetí sloupec).</li>
</ol></li>
<li>Výsledek uložíme jako soubor CSV</li>
</ol>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="figs/pian14.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:60.0%"></p>
</figure>
</div>
<ol start="7" type="1">
<li>Importujte výsledný soubor CSV do AMČR, viz <a href="../amcr/pian-import.html#import-souboru-csv-do-amčr">postup</a>.</li>
</ol>
<hr>
</section>
<section id="vytvoření-csv-v-textovém-editoru" class="level3">
<h3 class="anchored" data-anchor-id="vytvoření-csv-v-textovém-editoru">Vytvoření CSV v textovém editoru</h3>
<p>Alternativním postupem přípravy importního CSV souboru je jeho vytvoření v&nbsp;textovém editoru (např. Poznámkový blok, WordPad, Notepad++ atp.). Viz vzorový CSV soubor.</p>
<div class="callout callout-style-simple callout-warning callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Upozornění
</div>
</div>
<div class="callout-body-container callout-body">
<p>Úprava CSV v&nbsp;MS Excel není vhodná. Pokud CSV soubor ukládáme v&nbsp;Excelu (stačí i otevření a uložení původně validního souboru), tak program automaticky doplní další uvozovky k&nbsp;polím s&nbsp;textovými řetězci (např. <code>““POLYGON““</code>) což způsobí nečitelnost souboru – lze ověřit např. při zobrazení v&nbsp;Notepad++ (nebo jiném textovém editoru – např. i v&nbsp;poznámkovém bloku) a zde i nadbytečné uvozovky odmazat.</p>
</div>
</div>
<ol type="1">
<li>Otevřete textový editor (ukázka je v&nbsp;Poznámkovém bloku, ale stejně funguje i v&nbsp;ostatních zmíněných programech).</li>
<li>Na první řádek vložte názvy polí oddělené čárkou podle definice výše:
<ul>
<li><code>"label","epsg","geometry"</code>.</li>
</ul></li>
<li>Na druhý řádek (případně na další řádky podle počtu geometrií k&nbsp;importu) vložte hodnoty pro tato pole opět oddělená čárkou.</li>
</ol>
<p>Výsledný soubor může vypadat např. takto:</p>
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>PIAN_1.csv</strong></pre>
</div>
<div class="sourceCode" id="cb1" data-filename="PIAN_1.csv"><pre class="sourceCode r code-overflow-wrap code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="st">"label"</span>,<span class="st">"epsg"</span>,<span class="st">"geometry"</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="st">"plocha_1"</span>,<span class="st">"4326"</span>,<span class="st">"POLYGON ((14.076704183062645 50.11115525776103, 14.076893350212458 50.111165965335545, 14.076900488595527 50.11129088703842, 14.077332360768025 50.111273041080835, 14.077318084002115 50.11114455018662, 14.077478697619995 50.11113384261205, 14.07746799004542 50.1109054143555, 14.07756078902463 50.110901845163994, 14.07754651225872 50.1108268921422, 14.077471559236983 50.11070910882239, 14.077350206725612 50.11061274065173, 14.077260976937964 50.11060560226866, 14.076507877529536 50.110623448226306, 14.076515015912605 50.11106245878182, 14.076704183062645 50.111069597164885, 14.076704183062645 50.11115525776103))"</span></span></code><button title="Zkopírovat do schránky" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="figs/pian06.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:80.0%"></p>
</figure>
</div>
<ol start="4" type="1">
<li>Připravený soubor uložte ve formátu CSV.
<ul>
<li>Při ukládání textového dokumentu v operačním systému Windows je třeba ručně dopsat k&nbsp;názvu souboru jako jeho koncovku .csv.</li>
</ul></li>
</ol>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="figs/pian07.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:60.0%"></p>
</figure>
</div>
<ol start="5" type="1">
<li>Importujte výsledný soubor CSV do AMČR, viz <a href="../amcr/pian-import.html#import-souboru-csv-do-amčr">postup</a>.</li>
</ol>
</section>
</section>
<section id="import-do-amčr" class="level2">
<h2 class="anchored" data-anchor-id="import-do-amčr">Import do AMČR</h2>
<ol type="1">
<li>V&nbsp;AMČR u vybrané dokumentační jednotky (DJ) zvolíme tlačítkem <code>Další volby</code> (<code>+</code>) možnost <code>PIAN – importovat</code>.</li>
</ol>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="figs/pian15.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:90.0%"></p>
</figure>
</div>
<ol start="2" type="1">
<li>Otevře se dialogové okno <code>Importovat PIAN</code>, sem přetáhneme/nebo zvolíme připravený CSV soubor.</li>
</ol>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="figs/pian16.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:60.0%"></p>
</figure>
</div>
<ol start="3" type="1">
<li>Systém automaticky provede validaci nahrávaného souboru i geometrií, které obsahuje. Zvolíme vybranou geometrii kliknutím ve sloupci <code>ID</code> pro vytvoření PIAN.</li>
</ol>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="figs/pian17.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:80.0%"></p>
</figure>
</div>
<ol start="4" type="1">
<li>V&nbsp;mapě se nám zobrazí importovaná geometrie – můžeme ji potvrdit, nebo ji případně dále editovat pomocí standardních nástrojů pro editaci PIAN dostupných v mapovém rozhraní AMČR.</li>
</ol>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="figs/pian18.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:90.0%"></p>
</figure>
</div>
<!-- ## Online převodník SHP na CSV 

::: {.callout-tip}

## Předpoklady

- [ ] Soubor ve formátu SHP obsahující geometrii/geometrie jako podklad pro vytvoření PIAN. 
- [ ] Souřadnicové systémy jsou WGS 84 (EPSG: 4326) a S-JTSK / Krovak East North (EPSG: 5514).

:::

1. Otevřete online převodník [https://www.km4city.org/wkt/](https://www.km4city.org/wkt/){.external}.
2. Tlačítkem `Procházet`/`Browse` vyberte soubor s koncovkou .shp z připraveného shapefilu (SHP).
3. Do pole `Label` zvolte název výstupu. 
4. Stiskněte tlačítko `Upload` pro nahrání souboru do převodníku.

![](figs/pian01.png){width="80%" fig-align="center"}

5. Na následující obrazovce uvidíte převedené geometrie:
    i. v poli `name` jsou uvedené názvy jednotlivých geometrií (PIAN) podle toho, jak byly pojmenované ve zdrojovém SHP;
    i. v poli `WKT` je pak geometrie PIAN ve formátu WKT;
    i. po výběru geometrie zaškrtávacím políčkem je možné konkrétní geometrii/PIAN zobrazit na mapě pro ověření výběru (funguje pouze pro data v souřadnicovém systému WGS-84).

![](figs/pian02.png){width="80%" fig-align="center"}

6. Přípravu cílového CSV souboru lze provést např. v tabulkovém editoru [Libre Office Calc](https://cs.libreoffice.org/download/download/){.external}:
    i. otevřít nový soubor;
    i. do prvního řádku vložit názvy polí podle definice na začátku tohoto návodu (`label`, `epsg`, `geometry`);
        - do pole `label` zkopírujeme či přepíšeme název zvolené geometrie/geometrií (např. plocha 1, sonda 1 atp.), případně je možné zkopírovat celou tabulku z převodníku a následně upravit názvy polí a přidat sloupec `epsg`;
        - do pole `epsg` zapíšeme kód souřadnicového systému (4326 nebo 5514);
        - do pole `geometry` zkopírujeme souřadnice WKT z totožného pole v převodníku.

![](figs/pian03.png)

7. Připravený soubor uložte ve formátu CSV:
    i. `Soubor` -- `Uložit jako` -- `Text CSV (.csv)`;
    i. pokud vyskočí upozornění na kontrolu správného formátu, které nabízí možnost uložit jako ODF potvrdíme, že správně je CSV (`Použít formát Text CSV`);  
    ![](figs/pian04.png){width="60%" fig-align="center"}
    i. v následujícím dialogovém okně pro export nastavíme tyto parametry: 
        - Znaková sada: `Unicode (UTF-8)`;
        - Oddělovač pole: `,` (čárka);
        - Oddělovač řetězců: `"` (horní uvozovky);
    i. volbu potvrdíme tlačítkem `OK`.  
    ![](figs/pian05.png){width="60%" fig-align="center"}
    
8. Importujte výsledný soubor CSV do AMČR, viz [postup](pian-import.qmd#import-souboru-csv-do-amčr). -->


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
  window.document.addEventListener("DOMContentLoaded", function (event) {
    const icon = "";
    const anchorJS = new window.AnchorJS();
    anchorJS.options = {
      placement: 'right',
      icon: icon
    };
    anchorJS.add('.anchored');
    const isCodeAnnotation = (el) => {
      for (const clz of el.classList) {
        if (clz.startsWith('code-annotation-')) {                     
          return true;
        }
      }
      return false;
    }
    const onCopySuccess = function(e) {
      // button target
      const button = e.trigger;
      // don't keep focus
      button.blur();
      // flash "checked"
      button.classList.add('code-copy-button-checked');
      var currentTitle = button.getAttribute("title");
      button.setAttribute("title", "Zkopírováno!");
      let tooltip;
      if (window.bootstrap) {
        button.setAttribute("data-bs-toggle", "tooltip");
        button.setAttribute("data-bs-placement", "left");
        button.setAttribute("data-bs-title", "Zkopírováno!");
        tooltip = new bootstrap.Tooltip(button, 
          { trigger: "manual", 
            customClass: "code-copy-button-tooltip",
            offset: [0, -8]});
        tooltip.show();    
      }
      setTimeout(function() {
        if (tooltip) {
          tooltip.hide();
          button.removeAttribute("data-bs-title");
          button.removeAttribute("data-bs-toggle");
          button.removeAttribute("data-bs-placement");
        }
        button.setAttribute("title", currentTitle);
        button.classList.remove('code-copy-button-checked');
      }, 1000);
      // clear code selection
      e.clearSelection();
    }
    const getTextToCopy = function(trigger) {
        const codeEl = trigger.previousElementSibling.cloneNode(true);
        for (const childEl of codeEl.children) {
          if (isCodeAnnotation(childEl)) {
            childEl.remove();
          }
        }
        return codeEl.innerText;
    }
    const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
      text: getTextToCopy
    });
    clipboard.on('success', onCopySuccess);
    if (window.document.getElementById('quarto-embedded-source-code-modal')) {
      const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
        text: getTextToCopy,
        container: window.document.getElementById('quarto-embedded-source-code-modal')
      });
      clipboardModal.on('success', onCopySuccess);
    }
      var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var mailtoRegex = new RegExp(/^mailto:/);
        var filterRegex = new RegExp("https:\/\/amcr-help\.aiscr\.cz");
      var isInternal = (href) => {
          return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
      }
      // Inspect non-navigation links and adorn them if external
     var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
      for (var i=0; i<links.length; i++) {
        const link = links[i];
        if (!isInternal(link.href)) {
          // undo the damage that might have been done by quarto-nav.js in the case of
          // links that we want to consider external
          if (link.dataset.originalHref !== undefined) {
            link.href = link.dataset.originalHref;
          }
            // target, if specified
            link.setAttribute("target", "_blank");
            if (link.getAttribute("rel") === null) {
              link.setAttribute("rel", "noopener");
            }
        }
      }
    function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
      const config = {
        allowHTML: true,
        maxWidth: 500,
        delay: 100,
        arrow: false,
        appendTo: function(el) {
            return el.parentElement;
        },
        interactive: true,
        interactiveBorder: 10,
        theme: 'quarto',
        placement: 'bottom-start',
      };
      if (contentFn) {
        config.content = contentFn;
      }
      if (onTriggerFn) {
        config.onTrigger = onTriggerFn;
      }
      if (onUntriggerFn) {
        config.onUntrigger = onUntriggerFn;
      }
      window.tippy(el, config); 
    }
    const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
    for (var i=0; i<noterefs.length; i++) {
      const ref = noterefs[i];
      tippyHover(ref, function() {
        // use id or data attribute instead here
        let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
        try { href = new URL(href).hash; } catch {}
        const id = href.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note) {
          return note.innerHTML;
        } else {
          return "";
        }
      });
    }
    const xrefs = window.document.querySelectorAll('a.quarto-xref');
    const processXRef = (id, note) => {
      // Strip column container classes
      const stripColumnClz = (el) => {
        el.classList.remove("page-full", "page-columns");
        if (el.children) {
          for (const child of el.children) {
            stripColumnClz(child);
          }
        }
      }
      stripColumnClz(note)
      if (id === null || id.startsWith('sec-')) {
        // Special case sections, only their first couple elements
        const container = document.createElement("div");
        if (note.children && note.children.length > 2) {
          container.appendChild(note.children[0].cloneNode(true));
          for (let i = 1; i < note.children.length; i++) {
            const child = note.children[i];
            if (child.tagName === "P" && child.innerText === "") {
              continue;
            } else {
              container.appendChild(child.cloneNode(true));
              break;
            }
          }
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(container);
          }
          return container.innerHTML
        } else {
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(note);
          }
          return note.innerHTML;
        }
      } else {
        // Remove any anchor links if they are present
        const anchorLink = note.querySelector('a.anchorjs-link');
        if (anchorLink) {
          anchorLink.remove();
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        if (note.classList.contains("callout")) {
          return note.outerHTML;
        } else {
          return note.innerHTML;
        }
      }
    }
    for (var i=0; i<xrefs.length; i++) {
      const xref = xrefs[i];
      tippyHover(xref, undefined, function(instance) {
        instance.disable();
        let url = xref.getAttribute('href');
        let hash = undefined; 
        if (url.startsWith('#')) {
          hash = url;
        } else {
          try { hash = new URL(url).hash; } catch {}
        }
        if (hash) {
          const id = hash.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note !== null) {
            try {
              const html = processXRef(id, note.cloneNode(true));
              instance.setContent(html);
            } finally {
              instance.enable();
              instance.show();
            }
          } else {
            // See if we can fetch this
            fetch(url.split('#')[0])
            .then(res => res.text())
            .then(html => {
              const parser = new DOMParser();
              const htmlDoc = parser.parseFromString(html, "text/html");
              const note = htmlDoc.getElementById(id);
              if (note !== null) {
                const html = processXRef(id, note);
                instance.setContent(html);
              } 
            }).finally(() => {
              instance.enable();
              instance.show();
            });
          }
        } else {
          // See if we can fetch a full url (with no hash to target)
          // This is a special case and we should probably do some content thinning / targeting
          fetch(url)
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.querySelector('main.content');
            if (note !== null) {
              // This should only happen for chapter cross references
              // (since there is no id in the URL)
              // remove the first header
              if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
                note.children[0].remove();
              }
              const html = processXRef(null, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      }, function(instance) {
      });
    }
        let selectedAnnoteEl;
        const selectorForAnnotation = ( cell, annotation) => {
          let cellAttr = 'data-code-cell="' + cell + '"';
          let lineAttr = 'data-code-annotation="' +  annotation + '"';
          const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
          return selector;
        }
        const selectCodeLines = (annoteEl) => {
          const doc = window.document;
          const targetCell = annoteEl.getAttribute("data-target-cell");
          const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
          const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
          const lines = annoteSpan.getAttribute("data-code-lines").split(",");
          const lineIds = lines.map((line) => {
            return targetCell + "-" + line;
          })
          let top = null;
          let height = null;
          let parent = null;
          if (lineIds.length > 0) {
              //compute the position of the single el (top and bottom and make a div)
              const el = window.document.getElementById(lineIds[0]);
              top = el.offsetTop;
              height = el.offsetHeight;
              parent = el.parentElement.parentElement;
            if (lineIds.length > 1) {
              const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
              const bottom = lastEl.offsetTop + lastEl.offsetHeight;
              height = bottom - top;
            }
            if (top !== null && height !== null && parent !== null) {
              // cook up a div (if necessary) and position it 
              let div = window.document.getElementById("code-annotation-line-highlight");
              if (div === null) {
                div = window.document.createElement("div");
                div.setAttribute("id", "code-annotation-line-highlight");
                div.style.position = 'absolute';
                parent.appendChild(div);
              }
              div.style.top = top - 2 + "px";
              div.style.height = height + 4 + "px";
              div.style.left = 0;
              let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
              if (gutterDiv === null) {
                gutterDiv = window.document.createElement("div");
                gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
                gutterDiv.style.position = 'absolute';
                const codeCell = window.document.getElementById(targetCell);
                const gutter = codeCell.querySelector('.code-annotation-gutter');
                gutter.appendChild(gutterDiv);
              }
              gutterDiv.style.top = top - 2 + "px";
              gutterDiv.style.height = height + 4 + "px";
            }
            selectedAnnoteEl = annoteEl;
          }
        };
        const unselectCodeLines = () => {
          const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
          elementsIds.forEach((elId) => {
            const div = window.document.getElementById(elId);
            if (div) {
              div.remove();
            }
          });
          selectedAnnoteEl = undefined;
        };
          // Handle positioning of the toggle
      window.addEventListener(
        "resize",
        throttle(() => {
          elRect = undefined;
          if (selectedAnnoteEl) {
            selectCodeLines(selectedAnnoteEl);
          }
        }, 10)
      );
      function throttle(fn, ms) {
      let throttle = false;
      let timer;
        return (...args) => {
          if(!throttle) { // first call gets through
              fn.apply(this, args);
              throttle = true;
          } else { // all the others get throttled
              if(timer) clearTimeout(timer); // cancel #2
              timer = setTimeout(() => {
                fn.apply(this, args);
                timer = throttle = false;
              }, ms);
          }
        };
      }
        // Attach click handler to the DT
        const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
        for (const annoteDlNode of annoteDls) {
          annoteDlNode.addEventListener('click', (event) => {
            const clickedEl = event.target;
            if (clickedEl !== selectedAnnoteEl) {
              unselectCodeLines();
              const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
              if (activeEl) {
                activeEl.classList.remove('code-annotation-active');
              }
              selectCodeLines(clickedEl);
              clickedEl.classList.add('code-annotation-active');
            } else {
              // Unselect the line
              unselectCodeLines();
              clickedEl.classList.remove('code-annotation-active');
            }
          });
        }
    const findCites = (el) => {
      const parentEl = el.parentElement;
      if (parentEl) {
        const cites = parentEl.dataset.cites;
        if (cites) {
          return {
            el,
            cites: cites.split(' ')
          };
        } else {
          return findCites(el.parentElement)
        }
      } else {
        return undefined;
      }
    };
    var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
    for (var i=0; i<bibliorefs.length; i++) {
      const ref = bibliorefs[i];
      const citeInfo = findCites(ref);
      if (citeInfo) {
        tippyHover(citeInfo.el, function() {
          var popup = window.document.createElement('div');
          citeInfo.cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    }
  });
  </script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
  </div>
  <div class="nav-page nav-page-next">
      <a href="../amcr/dj.html" class="pagination-link" aria-label="Zápis správného typu DJ">
        <span class="nav-page-text">Zápis správného typu DJ</span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
    <div class="nav-footer-left">
<p><a href="../about/index.html" class="fttext">Kontakty</a> | <u id="open_preferences_center" class="fttext">Cookies</u> | <span class="fttext">CC BY-NC 4.0</span></p>
</div>   
    <div class="nav-footer-center">
<p><a href="https://www.aiscr.cz/" target="_blank"><img src="../figs/logo-aiscr-hor.png" height="60"></a></p>
</div>
    <div class="nav-footer-right">
<p>Vytvořeno s ♡ v <a href="https://www.quarto.org/" target="_blank">Quarto</a>, zdroj na <a href="https://github.com/ARUP-CAS/aiscr-webamcr-help" target="_blank">GitHub <svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 496 512" width="14" style="fill:#6b6b6b; margin-left:2px;"><!--!Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free Copyright 2024 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3 .3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5 .3-6.2 2.3zm44.2-1.7c-2.9 .7-4.9 2.6-4.6 4.9 .3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3 .7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3 .3 2.9 2.3 3.9 1.6 1 3.6 .7 4.3-.7 .7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3 .7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3 .7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"></path></svg></a></p>
</div>
  </div>
</footer>




</body></html>